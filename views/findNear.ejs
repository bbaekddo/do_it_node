<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" id="viewport" content="width=device-width, height=device-height, initial-scale=1">
    <title>Google Map</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        html, body {
            width: 100%;
            height: 100%;
        }

        #map {
            width: 100%;
            height: 95%;
        }
    </style>
</head>
<!--구글 맵 API 설정-->
<body onload="onLoad()">
<p>구글맵으로 내 위치 표시하기</p>
<div id="map"></div>

<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB7PXsb6egeZEq6YqLv4QrZp5vTBMBCg-8&callback=initMap"></script>
<script>
    function onLoad() {
        initMap();
    }

    let map;
    const centerLocation = { lng: <%= paramLongitude %>, lat: <%= paramLatitude %> };
    const cafeLocation = { lng: <%= result.geometry.coordinates[0] %>, lat: <%= result.geometry.coordinates[1] %>}

    function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
            center: centerLocation,
            zoom: 17
        });

        const marker = new google.maps.Marker({
            position: centerLocation,
            icon: '/public/mylocation.png',
            animation: google.maps.Animation.BOUNCE
        });

        const cafeMarker = new google.maps.Marker({
            position: cafeLocation,
            icon: '/public/cafe.png'
        });

        marker.setMap(map);
        cafeMarker.setMap(map);
    }
</script>
</body>
</html>